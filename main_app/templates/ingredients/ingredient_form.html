{% extends 'main_app/base.html' %} 
{% block content %}
<h1>Add Ingredients for {{ recipe.title }}</h1>

<form method="post">
  {% csrf_token %}
  <div class="form-group">
    <label for="ingredient_name">Ingredient Name:</label>
    <input
      type="text"
      name="ingredient_name"
      id="ingredient_name"
      list="ingredients"
      required
    />
    <datalist id="ingredients">
      {% for ingredient in ingredients %}
      <option value="{{ ingredient.name }}">{% endfor %}</option>
    </datalist>
  </div>

  <div class="form-group">
    <label for="measurement_qty">Quantity:</label>
    <select name="measurement_qty" id="measurement_qty" required>
      {% for qty in measurement_quantities %}
      <option value="{{ qty }}">{{ qty }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="form-group">
    <label for="measurement_unit">Unit:</label>
    <select name="measurement_unit" id="measurement_unit" required>
      {% for value, label in measurement_units %}
      <option value="{{ value }}">{{ label }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="button group">
    <button type="submit" name="add_another" class="btn submit">
      Save & Add Another
    </button>
    <button type="submit" class="btn submit">Save & Finish</button>
  </div>
</form>

<p><a href="{% url 'recipe-detail' pk=recipe.id %}" class="btn back-btn">Back to Recipe</a></p>
{% endblock %}
